Traceback (most recent call last):
  File "/usr/local/lib/python3.9/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/usr/local/lib/python3.9/site-packages/nbclient/client.py", line 1093, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/usr/local/lib/python3.9/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/usr/local/lib/python3.9/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/usr/local/Cellar/python@3.9/3.9.16/Frameworks/Python.framework/Versions/3.9/lib/python3.9/asyncio/base_events.py", line 647, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.9/site-packages/nbclient/client.py", line 559, in async_execute
    await self.async_execute_cell(
  File "/usr/local/lib/python3.9/site-packages/nbclient/client.py", line 854, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/usr/local/lib/python3.9/site-packages/nbclient/client.py", line 756, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
from sklearn.cluster import KMeans

model = KMeans(n_clusters=nb_classes,n_init=10)
    
plt.figure(figsize=(12,6))
plt.subplot(121)
plt.scatter(X[:, 0], X[:, 1],c=y, s=30,linewidths=0,cmap=plt.cm.rainbow)
plt.title("Vraies classes")
plt.tick_params(labelbottom=False)
plt.tick_params(labelleft=False)
plt.subplot(122)
model.fit(X)
plt.scatter(X[:, 0], X[:, 1], c=model.labels_, s=30,linewidths=0, cmap=plt.cm.rainbow)
plt.title("K means Ã  {0:d} classes".format(nb_classes))
plt.tick_params(labelbottom=False)
plt.tick_params(labelleft=False)
plt.tight_layout() 
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mAttributeError[0m                            Traceback (most recent call last)
Input [0;32mIn [7][0m, in [0;36m<module>[0;34m[0m
[1;32m     10[0m plt[38;5;241m.[39mtick_params(labelleft[38;5;241m=[39m[38;5;28;01mFalse[39;00m)
[1;32m     11[0m plt[38;5;241m.[39msubplot([38;5;241m122[39m)
[0;32m---> 12[0m [43mmodel[49m[38;5;241;43m.[39;49m[43mfit[49m[43m([49m[43mX[49m[43m)[49m
[1;32m     13[0m plt[38;5;241m.[39mscatter(X[:, [38;5;241m0[39m], X[:, [38;5;241m1[39m], c[38;5;241m=[39mmodel[38;5;241m.[39mlabels_, s[38;5;241m=[39m[38;5;241m30[39m,linewidths[38;5;241m=[39m[38;5;241m0[39m, cmap[38;5;241m=[39mplt[38;5;241m.[39mcm[38;5;241m.[39mrainbow)
[1;32m     14[0m plt[38;5;241m.[39mtitle([38;5;124m"[39m[38;5;124mK means Ã  [39m[38;5;132;01m{0:d}[39;00m[38;5;124m classes[39m[38;5;124m"[39m[38;5;241m.[39mformat(nb_classes))

File [0;32m/usr/local/lib/python3.9/site-packages/sklearn/cluster/_kmeans.py:1455[0m, in [0;36mKMeans.fit[0;34m(self, X, y, sample_weight)[0m
[1;32m   1453[0m [38;5;28;01melse[39;00m:
[1;32m   1454[0m     kmeans_single [38;5;241m=[39m _kmeans_single_lloyd
[0;32m-> 1455[0m     [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_check_mkl_vcomp[49m[43m([49m[43mX[49m[43m,[49m[43m [49m[43mX[49m[38;5;241;43m.[39;49m[43mshape[49m[43m[[49m[38;5;241;43m0[39;49m[43m][49m[43m)[49m
[1;32m   1457[0m best_inertia, best_labels [38;5;241m=[39m [38;5;28;01mNone[39;00m, [38;5;28;01mNone[39;00m
[1;32m   1459[0m [38;5;28;01mfor[39;00m i [38;5;129;01min[39;00m [38;5;28mrange[39m([38;5;28mself[39m[38;5;241m.[39m_n_init):
[1;32m   1460[0m     [38;5;66;03m# Initialize centers[39;00m

File [0;32m/usr/local/lib/python3.9/site-packages/sklearn/cluster/_kmeans.py:911[0m, in [0;36m_BaseKMeans._check_mkl_vcomp[0;34m(self, X, n_samples)[0m
[1;32m    909[0m n_active_threads [38;5;241m=[39m [38;5;28mint[39m(np[38;5;241m.[39mceil(n_samples [38;5;241m/[39m CHUNK_SIZE))
[1;32m    910[0m [38;5;28;01mif[39;00m n_active_threads [38;5;241m<[39m [38;5;28mself[39m[38;5;241m.[39m_n_threads:
[0;32m--> 911[0m     modules [38;5;241m=[39m [43mthreadpool_info[49m[43m([49m[43m)[49m
[1;32m    912[0m     has_vcomp [38;5;241m=[39m [38;5;124m"[39m[38;5;124mvcomp[39m[38;5;124m"[39m [38;5;129;01min[39;00m [module[[38;5;124m"[39m[38;5;124mprefix[39m[38;5;124m"[39m] [38;5;28;01mfor[39;00m module [38;5;129;01min[39;00m modules]
[1;32m    913[0m     has_mkl [38;5;241m=[39m ([38;5;124m"[39m[38;5;124mmkl[39m[38;5;124m"[39m, [38;5;124m"[39m[38;5;124mintel[39m[38;5;124m"[39m) [38;5;129;01min[39;00m [
[1;32m    914[0m         (module[[38;5;124m"[39m[38;5;124minternal_api[39m[38;5;124m"[39m], module[38;5;241m.[39mget([38;5;124m"[39m[38;5;124mthreading_layer[39m[38;5;124m"[39m, [38;5;28;01mNone[39;00m))
[1;32m    915[0m         [38;5;28;01mfor[39;00m module [38;5;129;01min[39;00m modules
[1;32m    916[0m     ]

File [0;32m/usr/local/lib/python3.9/site-packages/sklearn/utils/fixes.py:162[0m, in [0;36mthreadpool_info[0;34m()[0m
[1;32m    160[0m     [38;5;28;01mreturn[39;00m controller[38;5;241m.[39minfo()
[1;32m    161[0m [38;5;28;01melse[39;00m:
[0;32m--> 162[0m     [38;5;28;01mreturn[39;00m [43mthreadpoolctl[49m[38;5;241;43m.[39;49m[43mthreadpool_info[49m[43m([49m[43m)[49m

File [0;32m/usr/local/lib/python3.9/site-packages/threadpoolctl.py:124[0m, in [0;36mthreadpool_info[0;34m()[0m
[1;32m    107[0m [38;5;129m@_format_docstring[39m(USER_APIS[38;5;241m=[39m[38;5;28mlist[39m(_ALL_USER_APIS),
[1;32m    108[0m                    INTERNAL_APIS[38;5;241m=[39m_ALL_INTERNAL_APIS)
[1;32m    109[0m [38;5;28;01mdef[39;00m [38;5;21mthreadpool_info[39m():
[1;32m    110[0m     [38;5;124;03m"""Return the maximal number of threads for each detected library.[39;00m
[1;32m    111[0m 
[1;32m    112[0m [38;5;124;03m    Return a list with all the supported modules that have been found. Each[39;00m
[0;32m   (...)[0m
[1;32m    122[0m [38;5;124;03m    In addition, each module may contain internal_api specific entries.[39;00m
[1;32m    123[0m [38;5;124;03m    """[39;00m
[0;32m--> 124[0m     [38;5;28;01mreturn[39;00m [43m_ThreadpoolInfo[49m[43m([49m[43muser_api[49m[38;5;241;43m=[39;49m[43m_ALL_USER_APIS[49m[43m)[49m[38;5;241m.[39mtodicts()

File [0;32m/usr/local/lib/python3.9/site-packages/threadpoolctl.py:340[0m, in [0;36m_ThreadpoolInfo.__init__[0;34m(self, user_api, prefixes, modules)[0m
[1;32m    337[0m     [38;5;28mself[39m[38;5;241m.[39muser_api [38;5;241m=[39m [] [38;5;28;01mif[39;00m user_api [38;5;129;01mis[39;00m [38;5;28;01mNone[39;00m [38;5;28;01melse[39;00m user_api
[1;32m    339[0m     [38;5;28mself[39m[38;5;241m.[39mmodules [38;5;241m=[39m []
[0;32m--> 340[0m     [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_load_modules[49m[43m([49m[43m)[49m
[1;32m    341[0m     [38;5;28mself[39m[38;5;241m.[39m_warn_if_incompatible_openmp()
[1;32m    342[0m [38;5;28;01melse[39;00m:

File [0;32m/usr/local/lib/python3.9/site-packages/threadpoolctl.py:371[0m, in [0;36m_ThreadpoolInfo._load_modules[0;34m(self)[0m
[1;32m    369[0m [38;5;124;03m"""Loop through loaded libraries and store supported ones"""[39;00m
[1;32m    370[0m [38;5;28;01mif[39;00m sys[38;5;241m.[39mplatform [38;5;241m==[39m [38;5;124m"[39m[38;5;124mdarwin[39m[38;5;124m"[39m:
[0;32m--> 371[0m     [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_find_modules_with_dyld[49m[43m([49m[43m)[49m
[1;32m    372[0m [38;5;28;01melif[39;00m sys[38;5;241m.[39mplatform [38;5;241m==[39m [38;5;124m"[39m[38;5;124mwin32[39m[38;5;124m"[39m:
[1;32m    373[0m     [38;5;28mself[39m[38;5;241m.[39m_find_modules_with_enum_process_module_ex()

File [0;32m/usr/local/lib/python3.9/site-packages/threadpoolctl.py:428[0m, in [0;36m_ThreadpoolInfo._find_modules_with_dyld[0;34m(self)[0m
[1;32m    425[0m filepath [38;5;241m=[39m filepath[38;5;241m.[39mdecode([38;5;124m"[39m[38;5;124mutf-8[39m[38;5;124m"[39m)
[1;32m    427[0m [38;5;66;03m# Store the module if it is supported and selected[39;00m
[0;32m--> 428[0m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_make_module_from_path[49m[43m([49m[43mfilepath[49m[43m)[49m

File [0;32m/usr/local/lib/python3.9/site-packages/threadpoolctl.py:515[0m, in [0;36m_ThreadpoolInfo._make_module_from_path[0;34m(self, filepath)[0m
[1;32m    513[0m [38;5;28;01mif[39;00m prefix [38;5;129;01min[39;00m [38;5;28mself[39m[38;5;241m.[39mprefixes [38;5;129;01mor[39;00m user_api [38;5;129;01min[39;00m [38;5;28mself[39m[38;5;241m.[39muser_api:
[1;32m    514[0m     module_class [38;5;241m=[39m [38;5;28mglobals[39m()[module_class]
[0;32m--> 515[0m     module [38;5;241m=[39m [43mmodule_class[49m[43m([49m[43mfilepath[49m[43m,[49m[43m [49m[43mprefix[49m[43m,[49m[43m [49m[43muser_api[49m[43m,[49m[43m [49m[43minternal_api[49m[43m)[49m
[1;32m    516[0m     [38;5;28mself[39m[38;5;241m.[39mmodules[38;5;241m.[39mappend(module)

File [0;32m/usr/local/lib/python3.9/site-packages/threadpoolctl.py:606[0m, in [0;36m_Module.__init__[0;34m(self, filepath, prefix, user_api, internal_api)[0m
[1;32m    604[0m [38;5;28mself[39m[38;5;241m.[39minternal_api [38;5;241m=[39m internal_api
[1;32m    605[0m [38;5;28mself[39m[38;5;241m.[39m_dynlib [38;5;241m=[39m ctypes[38;5;241m.[39mCDLL(filepath, mode[38;5;241m=[39m_RTLD_NOLOAD)
[0;32m--> 606[0m [38;5;28mself[39m[38;5;241m.[39mversion [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mget_version[49m[43m([49m[43m)[49m
[1;32m    607[0m [38;5;28mself[39m[38;5;241m.[39mnum_threads [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39mget_num_threads()
[1;32m    608[0m [38;5;28mself[39m[38;5;241m.[39m_get_extra_info()

File [0;32m/usr/local/lib/python3.9/site-packages/threadpoolctl.py:646[0m, in [0;36m_OpenBLASModule.get_version[0;34m(self)[0m
[1;32m    643[0m get_config [38;5;241m=[39m [38;5;28mgetattr[39m([38;5;28mself[39m[38;5;241m.[39m_dynlib, [38;5;124m"[39m[38;5;124mopenblas_get_config[39m[38;5;124m"[39m,
[1;32m    644[0m                      [38;5;28;01mlambda[39;00m: [38;5;28;01mNone[39;00m)
[1;32m    645[0m get_config[38;5;241m.[39mrestype [38;5;241m=[39m ctypes[38;5;241m.[39mc_char_p
[0;32m--> 646[0m config [38;5;241m=[39m [43mget_config[49m[43m([49m[43m)[49m[38;5;241;43m.[39;49m[43msplit[49m()
[1;32m    647[0m [38;5;28;01mif[39;00m config[[38;5;241m0[39m] [38;5;241m==[39m [38;5;124mb[39m[38;5;124m"[39m[38;5;124mOpenBLAS[39m[38;5;124m"[39m:
[1;32m    648[0m     [38;5;28;01mreturn[39;00m config[[38;5;241m1[39m][38;5;241m.[39mdecode([38;5;124m"[39m[38;5;124mutf-8[39m[38;5;124m"[39m)

[0;31mAttributeError[0m: 'NoneType' object has no attribute 'split'
AttributeError: 'NoneType' object has no attribute 'split'

